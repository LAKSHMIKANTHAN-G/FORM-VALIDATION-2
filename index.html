<!DOCTYPE html>
<html>
<head>
<title> FORM VALIDATION </title> 

<!-- FAV ICON -->     <!--favicon-->
<link rel="icon" type="image/x-icon" href="favicon2.png">
<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">

<!--linking stylesheet-->
<link rel="stylesheet" href="style.css">
<!-- REQUIRED META TAGS-->
<meta charset="UTF-8">
<meta name="keywords" content="HTML, CSS, JavaScript">
<meta name="description" content="FORM-VALIDATION">
<meta name="author" content="LAKSHMIKANTHAN ">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
       <div class="container">
              <div class="header">  <!--class for heading-->
	             <h2> CREATE ACCOUNT </h2>
               </div>
	 
	         <form class="form" id="form">
		          <div class="form-control">
		              <label>Username</label>
		              <input type="text" placeholder="username" autocomplete="off" id="username">
                      <i class="fas fa-check-circle"></i>
			          <i class="fas fa-exclamation-circle"></i>
		              <small>  </small>
			        </div>
			
			
		         <div class="form-control">
			        <label>Email</label>
			         <input type="text" placeholder="Mailid" autocomplete="off" id="email">
                      <i class="fas fa-check-circle"></i>
			         <i class="fas fa-exclamation-circle"></i>
			         <small> </small>
			     </div>

                  <div class="form-control">
			          <label> Password &#128273;</label>
				     <input type="text" placeholder="password" autocomplete="off" id="password">
                      <i class="fas fa-check-circle"></i>
					   <i class="fas fa-exclamation-circle"></i>
					  <small> </small>
			      </div>
			
			
		         <div class="form-control">
			        <label> CONFIRM PASSWORD &#128273; </label>
		             <input type="text" placeholder="Confirmpassword" autocomplete="off" id="password2">
                     <i class="fas fa-check-circle"></i>
		             <i class="fas fa-exclamation-circle"></i>
			        <small> </small>
			      </div>
				  <button> Submit </button>
             </form>
         </div>  
           <script>
		     const form = document.getElementById("form");				 
             const username = document.getElementById("username");		 
             const email = document.getElementById("email");		 
             const Password = document.getElementById("password");	 
             const password2 = document.getElementById("password2");	 
			   
		          form.addEventListner('submit',e =>{
			        e.preventDefault();
					 checkInput();
					});

			       function checkInput(){
			       const usernameValue = username.value.trim();
				   const emailValue = email.value.trim();
				   const passwordValue = password.value.trim();
				   const password2Value = password2.value.trim();
		   
		            
				    if(usernameValue ===''){
						setError(username, 'username cannot be blank');
				     }
				    else{
						setSuccess(username);
					}
					if(emailValue === ''){
					   setError(email,'Email cannote be blank');
					 }
		           
					 else if(!isEmail(emailValue))
					 { 
					   setError(email,'Not a vaild Email');
					  }
					  else{
					  setSuccess(email);
					  }
					  if(passwordValue ==='')
					{
						setError(Password, 'password cannot be blank');
				   }
				   else{
						setSuccess(passwordd);
					  
					  }
					 
                    if (password2Value ===''){
						setError(password2, 'password cannot be blank');
				   }
				   else if(passwordValue !== password2Value) {
						setError(password2,'password does not match')
					  }	
                   else{
						setSuccess(password2);
				   }
		        }
				    function setError(input,message){
						const formControl=input.parentElement;
						const small=formControl.queryselector('small');
				        formControl.className='form-control error';
						small.innerText=message;
						}
				     
					 
				    function setSuccess(input,message){
						 const formControl=input.parentElement;
						 formControl.className='form-control success';
					 }
			
					function ismail(email){
						return /^(([^<>()\[\]\\.,;:\@s"]+(\. [^<> ()\[\]\\.,;:\s@"]+)*)|(".+")) @((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(mail);
					}
	
         </script>
		   </body>
		   </html>
 </body>
</html>